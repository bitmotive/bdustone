{{#partial "head"}}
    {{{ stylesheet '/assets/css/invoice.css' }}}
{{/partial}}

{{#partial "page"}}
<div class="invoice">
    <header>
        {{> components/global/store-logo}}
        <h1>{{lang 'invoice.for_order' name=settings.store_name id=order.id}}</h1>
        <address><strong>{{nl2br settings.address}}</strong></address>
    </header>
    <main>
        <div class="addresses">
            <div>
                <h2>{{lang 'account.orders.details.bill_to'}}</h2>
                <address>
                    <strong>{{order.billing_address.full_name}}</strong><br />
                    {{#if order.billing_address.company}}{{order.billing_address.company}}<br />{{/if}}
                    {{order.billing_address.address_lines.[0]}}<br />
                    {{#if order.billing_address.address_lines.[1]}}{{order.billing_address.address_lines.[1]}}<br />{{/if}}
                    {{order.billing_address.city}}, {{order.billing_address.state}} {{order.billing_address.zip}}<br />
                    {{order.billing_address.country}}
                </address>
                {{#if order.billing_address.phone}}<p>{{{lang 'invoice.phone' number=order.billing_address.phone}}}</p>{{/if}}
                {{#if order.billing_address.email}}<p>{{{lang 'invoice.email' email=order.billing_address.email}}}</p>{{/if}}
            </div>
            {{#if order.shipping_address}}
                {{#unless order.has_multiple_shipping_addresses}}
                    <div>
                        <h2>{{lang 'account.orders.details.ship_to'}}</h2>
                        <address>
                            <strong>{{order.shipping_address.full_name}}</strong><br />
                            {{#if order.shipping_address.company}}{{order.shipping_address.company}}<br />{{/if}}
                            {{order.shipping_address.address_lines.[0]}}<br />
                            {{#if order.shipping_address.address_lines.[1]}}{{order.shipping_address.address_lines.[1]}}<br />{{/if}}
                            {{order.shipping_address.city}}, {{order.shipping_address.state}} {{order.shipping_address.zip}}<br />
                            {{order.shipping_address.country}}
                        </address>
                        {{#if order.shipping_address.phone}}<p>{{{lang 'invoice.phone' number=order.shipping_address.phone}}}</p>{{/if}}
                        {{#if order.shipping_address.email}}<p>{{{lang 'invoice.email' email=order.shipping_address.email}}}</p>{{/if}}
                    </div>
                {{/unless}}
            {{/if}}
        </div>
        <div class="details">
            <h2>{{lang 'invoice.order_details'}}</h2>
            <div>
                <p><strong>{{lang 'invoice.order'}}</strong> #{{order.id}}</p>
                <p><strong>{{lang 'invoice.payment_method'}}</strong> {{order.payment_method}} ({{order.total.formatted}})</p>
            </div>
            <div>
                <p><strong>{{lang 'invoice.order_date'}}</strong> {{order.date}}</p>
                <p><strong>{{lang 'invoice.shipping_method'}}</strong> {{order.shipping_method}}</p>
            </div>
        </div>
        <div class="items">
            <h2>{{lang 'invoice.order_items'}}</h2>
            <table>
                <thead>
                    <tr>
                        {{#if order.has_multiple_shipping_addresses}}
                            <th class="ProductAddress">{{lang 'invoice.shipping_address'}}</th>
                        {{/if}}
                        <th class="ProductQuantity">{{lang 'invoice.qty'}}</th>
                        <th class="ProductSku">{{lang 'invoice.code'}}</th>
                        <th class="ProductDetails">{{lang 'invoice.product_name'}}</th>
                        <th class="ProductCost" align="right">{{lang 'invoice.price'}}</th>
                        <th class="ProductTotal" align="right">{{lang 'invoice.total'}}</th>
                    </tr>
                </thead>
                <tbody class="InvoiceItemList">
                    {{#each order.items}}
                        <tr>
                            {{#if ../order.has_multiple_shipping_addresses}}
                                <td class="ProductAddress">
                                    {{#each shipping_rows}}
                                        <div>{{address}}</div>
                                        <div>{{city}}, {{state}} {{zip}}</div>
                                        <div>{{country}}</div>
                                    {{/each}}
                                </td>
                            {{/if}}
                            <td class="ProductQuantity">{{quantity}}</td>
                            <td class="ProductSku">{{sku}}</td>
                            <td class="ProductDetails">
                                {{name}}
                                <div class="ProductAttributes">

                                    {{#each options}}
                                        <div class="ConfigurableProductRow">
                                            <div class="Label">{{name}}:</div>
                                            <div class="Value"></div>
                                            <div class="Value">{{value}}</div>
                                        </div>
                                    {{/each}}
                                </div>
                                <div class="ProductConfigurableFields">
                                    {{#each customizations}}
                                        <div class="ConfigurableProductRow">
                                            <div class="Label">{{name}}:</div>
                                            <div class="Value"></div>
                                            <div class="Value">{{value}}</div>
                                        </div>
                                    {{/each}}
                                </div>
                                {{#if gift_wrapping_name}}
                                    <div class="ProductGiftWrapping">
                                        {{gift_wrapping_name}}
                                    </div>
                                {{/if}}
                                {{#if event_date}}
                                    <div class="ProductEventDate">
                                        <div class="ConfigurableProductRow">
                                            <div class="Label">{{event_date.name}}:</div>
                                            <div class="Value"></div>
                                            <div class="Value">{{event_date.date}}</div>
                                        </div>
                                    </div>
                                {{/if}}
                                {{#if pre_ordered}}
                                    <div class="ProductPreOrder">
                                        <div class="ConfigurableProductRow">
                                            <div class="Label">Preordered:</div>
                                            <div class="Value">{{lang 'common.yes'}}</div>
                                        </div>
                                    </div>
                                {{/if}}
                            </td>
                            <td class="ProductCost">{{price.formatted}}</td>
                            <td class="ProductTotal">{{total.formatted}}</td>
                        </tr>
                    {{/each}}
                </tbody>
                <tfoot class="InvoiceTotals">
                    {{#each order.total_rows}}
                        <tr class="InvoiceTotalRow">
                            <td class="Title" colspan="{{#if ../order.has_multiple_shipping_addresses}}5{{else}}4{{/if}}">{{label}}</td>
                            <td class="Total">{{value.formatted}}</td>
                        </tr>
                    {{/each}}
                </tfoot>
            </table>
        </div>
            <div class="comments">
                <h2>{{lang 'invoice.comments'}}</h2>
                <div class="cnt">
                    {{order.comments}}
                </div>
            </div>
        </div>
    </main>
</div>
<script>
    window.print();
</script>
{{/partial}}
{{> layout/empty}}
